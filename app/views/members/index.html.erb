<p id="notice"><%= notice %></p>

<h1>Members</h1>

<!-- <form>
  <legend>Show:</legend>
  <input type="checkbox" id="member_uin" name="membershow" value="member_uin"> UIN
  <input type="checkbox" id="email" name="membershow" value="email"> Email
  <input type="checkbox" id="phoneNumber" name="membershow" value="phoneNumber"> Phone Number
  <input type="checkbox" id="joinDate" name="membershow" value="joinDate"> Join Date
  <input type="checkbox" id="membershipType" name="membershow" value="membershipType"> Membership Type
  <input type="checkbox" id="membershipExpiration" name="membershow" value="membershipExpiration" checked> Membership Expiration
</form> -->

<script>
  function toggleElements(title, value, box) {
     // get the clock
     var myTitle = document.getElementById(title);
     var myVal = document.getElementById(value);

     // get the current value of the clock's display property
     var displaySetting = myTitle.style.display;
     // var displaySettingv = myVal.style.display;

     // also get the clock button, so we can change what it says
     var ckbox = document.getElementById(box);
     // var clockButton = document.getElementById('clockButtonVal');

     // now toggle the clock and the button text, depending on current state
     if (displaySetting == 'block') {
       // clock is visible. hide it
       myTitle.style.display = 'none';
       myVal.style.display = 'none';
       // change button text
       // ckbox.innerHTML = 'Show firstname';
     }
     else {
       // clock is hidden. show it
       myTitle.style.display = 'block';
       myVal.style.display = 'block';
       // change button text
       // ckbox.innerHTML = 'Hide first name';
     }
   }
</script>

<input type="checkbox" onclick="toggleElements('fn', 'fnv', 'fnBox')" id="fnBox">First Name</input>
<input type="checkbox" onclick="toggleElements('ln', 'lnv', 'lnBox')" id="'lnBox'">Last Name</input>
<input type="checkbox" onclick="toggleElements('uin', 'uinv', 'uinBox')" id="'uinBox'">UIN</input>
<input type="checkbox" onclick="toggleElements('email', 'emailv', 'emailBox')" id="'emailBox'">Email</input>
<input type="checkbox" onclick="toggleElements('pn', 'pnv', 'pnBox')" id="'pnBox'">Phone Number</input>
<input type="checkbox" onclick="toggleElements('join', 'joinv', 'joinBox')" id="'joinBox'">Join Date</input>
<!-- <input type="checkbox" onclick="toggleElements('join', 'joinv', 'joinBox')" id="'joinBox'">Membership Type</input>
<input type="checkbox" onclick="toggleElements('join', 'joinv', 'joinBox')" id="'joinBox'">Payment Date</input>
<input type="checkbox" onclick="toggleElements('join', 'joinv', 'joinBox')" id="'joinBox'">...?</input>
<input type="checkbox" onclick="toggleElements('join', 'joinv', 'joinBox')" id="'joinBox'">Payment Method</input>
<input type="checkbox" onclick="toggleElements('join', 'joinv', 'joinBox')" id="'joinBox'">Amount</input> -->

<!-- Check boxes -->



<!-- <table id="hi"></table>
<script type = "text/javascript">
function show() {
  document.getElementById("hi").innerHTML = 'hello'
}
</script>
<input type = "button" onclick = "show()" value = "Display"> -->
<%= link_to 'New Member', new_member_path, class: 'btn btn-light btn-lg btn-block' %>

<!-- Table -->
<!-- <div class='field'>

  <% @attributeName.each do |attr|%>
    <p><b><%= attr %></b></p>
    <% @attr.each do |mem|%>
      <table>
        <%= mem[attr] %>
      </table>
    <% end %>
  <% end %>
</div> -->


<script>
document.getElementById("check_").addEventListener("click", showUIN);
function showUIN() {
  document.getElementById("check_").innerHTML = 'UIN'
}

// document.getElementById("email").addEventListener("click", showEmail);
// function showEmail() {
//   document.getElementById("emailID").innerHTML = 'Email'
// }

</script>

<br>
<br>
<table class="table table-striped table-dark table-bordered table-hover table-sm">
  <thead class="thead-light">
    <tr>
      <th id= 'fn'><%= sortable 'first_name'%></th>
      <th id= 'ln'><%= sortable 'last_name'%></th>
      <th id= 'uin'><%= sortable 'member_uin', 'UIN'%></th>
      <th id= 'email'><%= sortable 'email'%></th>
      <th id= 'pn'><%= sortable 'phone_number'%></th>
      <th id= 'join'><%= sortable 'join_date'%></th>
      <th id= 'memtpye'><%= sortable 'membership_type'%></th>
      <th id= 'date'><%= sortable 'date'%></th>
      <th id= 'officer'><%= sortable 'officer paid to'%></th>
      <th id= 'mtd'><%= sortable 'payment_mtd'%></th>
      <th id= 'amnt'><%= sortable 'amount'%></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <!-- <script>
  document.getElementById("member_uin").addEventListener("click", showUIN);
  function showUIN() {
    document.getElementById("uin").innerHTML = 'UIN'
  }

  document.getElementById("email").addEventListener("click", showEmail);
  function showEmail() {
    document.getElementById("emailID").innerHTML = 'Email'
  }

  </script> -->



  <tbody id = 'fulltable'>
    <% @members.each do |member| %>
      <tr>
        <td id='fnv'><%= member.first_name %></td>
        <td id= 'lnv'><%= member.last_name %></td>
        <td id= 'uinv'><%= member.member_uin %></td>
        <td id= 'emailv'><%= member.email %></td>
        <td id= 'pnv'><%= member.phone_number %></td>
        <td id= 'joinv'><%= member.join_date %></td>
        <td><%= member.payments.any? ? member.payments.first.membership_type : "N/A" %></td>
        <td><%= member.payments.any? ? member.payments.first.date : "N/A" %></td>
        <td><%= member.payments.any? ? "Link Latter" : "N/A" %></td>
        <td><%= member.payments.any? ? member.payments.first.payment_mtd : "N/A" %></td>
        <td><%= member.payments.any? ? member.payments.first.amount : "N/A" %></td>
        <td><%= link_to 'Show', member %></td>
        <td><%= link_to 'Edit', edit_member_path(member) %></td>
        <td><%= link_to 'Destroy', member, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
